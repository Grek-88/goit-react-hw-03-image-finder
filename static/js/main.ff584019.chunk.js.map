{"version":3,"sources":["Modal/Modal.module.css","App/App.module.css","ImageGallery/ImageGallery.module.css","Button/Button.module.css","Searchbar/Searchbar.module.css","Searchbar/Searchbar.jsx","ImageGalleryItem/ImageGalleryItem.jsx","ImageGallery/ImageGallery.jsx","Modal/Modal.jsx","Button/Button.jsx","Loader/Loader.jsx","App/App.jsx","index.js","ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","Searchbar","props","className","s","SearchForm","onSubmit","ev","preventDefault","target","value","trim","toLowerCase","alert","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","ImageGalleryItem","image","largeImageURL","tags","src","alt","ImageGalleryItemImage","ImageGallery","images","onClick","map","id","webformatURL","Modal","hendelKeyDown","e","code","showModal","hideModal","currentTarget","window","addEventListener","this","removeEventListener","Overlay","Component","Button","LoaderMore","style","margin","color","height","width","timeout","App","state","query","imgData","loading","page","error","isOpenModal","bigurl","submitForm","dataQuery","setState","fetchData","fetch","then","res","ok","json","Promise","reject","Error","prevState","hits","catch","getNewImg","togleModalShow","dataset","prevProps","scrollTo","top","document","documentElement","scrollHeight","behavior","message","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ff584019.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3HQud\",\"Modal\":\"Modal_Modal__2vRnY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__rhZfa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1nVGU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__10hAr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3rjxG\",\"SearchForm\":\"Searchbar_SearchForm__oYSUc\",\"SearchFormButton\":\"Searchbar_SearchFormButton__2g8ww\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__2vN5h\",\"SearchFormInput\":\"Searchbar_SearchFormInput__2e8lS\"};","import s from \"../Searchbar/Searchbar.module.css\";\r\n\r\nexport default function Searchbar(props) {\r\n  function inputQuery(ev) {\r\n    ev.preventDefault();\r\n    if (ev.target[1].value.trim() === \"\") {\r\n      alert(\"Для поиска необходимо ввести слово\");\r\n      return;\r\n    }\r\n    props.onSubmit(ev.target[1].value.toLowerCase());\r\n    ev.target[1].value = \"\";\r\n  }\r\n\r\n  return (\r\n    <header className={s.Searchbar}>\r\n      <form className={s.SearchForm} onSubmit={inputQuery}>\r\n        <button type=\"submit\" className={s.SearchFormButton}>\r\n          <span className={s.SearchFormButtonLabel}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className={s.SearchFormInput}\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n}\r\n","import s from \"../ImageGalleryItem/ImageGalleryItem.module.css\";\r\n\r\nexport default function ImageGalleryItem({ image, largeImageURL, tags }) {\r\n  return (\r\n    <li className={s.ImageGalleryItem}>\r\n      <img\r\n        src={image}\r\n        alt={tags}\r\n        data-bigurl={largeImageURL}\r\n        className={s.ImageGalleryItemImage}\r\n      />\r\n    </li>\r\n  );\r\n}\r\n","import s from \"../ImageGallery/ImageGallery.module.css\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\n\r\nexport default function ImageGallery({ images, onClick }) {\r\n  return (\r\n    <ul className={s.ImageGallery} onClick={onClick}>\r\n      {images.map(({ id, largeImageURL, webformatURL, tags }) => (\r\n        <ImageGalleryItem\r\n          key={id}\r\n          image={webformatURL}\r\n          tags={tags}\r\n          largeImageURL={largeImageURL}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n","import React, { Component } from \"react\";\r\nimport s from \"../Modal/Modal.module.css\";\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.hendelKeyDown);\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.hendelKeyDown);\r\n  }\r\n\r\n  hendelKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.showModal();\r\n    }\r\n  };\r\n\r\n  hideModal = (e) => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.showModal();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className={s.Overlay} onClick={this.hideModal}>\r\n        <div className={s.Modal}>\r\n          <img src={this.props.props} alt=\"\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import s from \"../Button/Button.module.css\";\r\n\r\nexport default function Button({ onClick }) {\r\n  return (\r\n    <button type=\"button\" className={s.Button} onClick={onClick}>\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\n","// import \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from \"react-loader-spinner\";\r\nexport default function LoaderMore() {\r\n  return (\r\n    <div style={{ margin: \"auto\" }}>\r\n      <Loader\r\n        type=\"ThreeDots\"\r\n        color=\"red\"\r\n        height={100}\r\n        width={100}\r\n        timeout={3000}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import React, { Component } from \"react\";\nimport Searchbar from \"../Searchbar/Searchbar\";\nimport s from \"../App/App.module.css\";\nimport ImageGallery from \"../ImageGallery/ImageGallery\";\nimport Modal from \"../Modal/Modal\";\nimport Button from \"../Button/Button\";\nimport LoaderMore from \"../Loader/Loader\";\n\nexport default class App extends Component {\n  state = {\n    query: null,\n    imgData: null,\n    loading: false,\n    page: 1,\n    error: null,\n    isOpenModal: false,\n    bigurl: \"\",\n  };\n\n  submitForm = (dataQuery) => {\n    this.setState({ query: dataQuery });\n  };\n\n  componentDidMount() {}\n\n  fetchData = () => {\n    this.setState({ loading: true });\n\n    fetch(\n      `https://pixabay.com/api/?q=${this.state.query}&page=${this.state.page}&key=22269453-01e35d719392ba61f98a14ac3&image_type=photo&orientation=horizontal&per_page=12`\n    )\n      .then((res) => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(\n          new Error(\n            \"По такому запросу картинок не найдено. Введите другой запрос.\"\n          )\n        );\n      })\n      .then((imgData) => {\n        this.setState((prevState) => ({\n          page: prevState.page + 1,\n          imgData: prevState.imgData\n            ? [...prevState.imgData, ...imgData.hits]\n            : imgData.hits,\n          loading: false,\n        }));\n      })\n      .catch((error) => this.setState({ error }));\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n\n    if (prevState.query !== this.state.query) {\n      this.setState({ imgData: null, page: 1 });\n      this.fetchData();\n    }\n  }\n\n  getNewImg = () => {\n    this.fetchData();\n  };\n\n  togleModalShow = (ev) => {\n    if (!this.state.isOpenModal) {\n      this.setState({ bigurl: ev.target.dataset.bigurl });\n    }\n    this.setState((prevState) => ({\n      isOpenModal: !prevState.isOpenModal,\n    }));\n  };\n\n  render({ imgData, loading, error } = this.state) {\n    return (\n      <div className={s.App}>\n        <Searchbar onSubmit={this.submitForm} />\n        {error && <h3>{error.message}</h3>}\n        {imgData && imgData.length === 0 && (\n          <h3>По такому запросу картинок не найдено. Введите другой запрос.</h3>\n        )}\n        {!imgData && loading && <LoaderMore />}\n        {imgData && imgData.length > 0 && (\n          <>\n            <ImageGallery\n              images={this.state.imgData}\n              onClick={this.togleModalShow}\n            />\n            {this.state.isOpenModal && (\n              <Modal\n                showModal={this.togleModalShow}\n                props={this.state.bigurl}\n              />\n            )}\n            {loading ? <LoaderMore /> : <Button onClick={this.getNewImg} />}\n          </>\n        )}\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"modern-normalize/modern-normalize.css\";\nimport \"./index.css\";\nimport App from \"./App/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__pkmA6\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__-YFei\"};"],"sourceRoot":""}